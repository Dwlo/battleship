#!/bin/bash

function usage() {
    echo "USAGE   : $0 <url> <game-id> <player> <row> <col>"
    echo "EXAMPLE : $0 http://localhost 123 plx 3 2"
    exit 1
}

if [ -z $1 ] || [ -z $2 ] || [ -z $3 ] || [ -z $4 ] || [ -z $5 ]
then
    usage

fi

echo -e "\n>> FIRE"

echo -e "- URL    =$1"
echo -e "- GAME   =$2"
echo -e "- PLAYER =$3"
echo -e "- ROW    =$4"
echo -e "- COL    =$5"

echo -e "\n>> RESULT"

curl -X PUT "$1/games/$2/players/$3/attack?row=$4&col=$5"

echo -e "\n\n>>BATTLEFIELD "

`dirname $0`/show-battlefield $1 $2

echo -e "\n"
